{%extends 'inventory/base.html' %}

{% block title %}ערוך מוצר - {{ product.name }} - מערכת ניהול מלאי{% endblock %}

{% block content %}
<div class="container mt-4">
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <h4><i class="fas fa-edit me-2"></i>ערוך מוצר: {{ product.name }}</h4>
                    </div>
                    <div class="card-body">
                        <form method="post" enctype="multipart/form-data">
                            {% csrf_token %}
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="{{ form.name.id_for_label }}" class="form-label">שם המוצר:</label>
                                        {{ form.name }}
                                    </div>
                                    <div class="mb-3">
                                        <label for="{{ form.description.id_for_label }}" class="form-label">תיאור:</label>
                                        {{ form.description }}
                                    </div>
                                    <div class="mb-3">
                                        <label for="{{ form.category.id_for_label }}" class="form-label">קטגוריה:</label>
                                        {{ form.category }}
                                    </div>
                                    <div class="mb-3">
                                        <label for="{{ form.supplier.id_for_label }}" class="form-label">ספק:</label>
                                        {{ form.supplier }}
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="alert alert-info">
                                        <i class="fas fa-info-circle me-1"></i>
                                        <strong>מלאי נוכחי:</strong> {{ product.quantity }} יחידות<br>
                                        <small>לשינוי מלאי, השתמש ב-"חלק מלאי" או "תנועת מלאי"</small>
                                    </div>
                                    <div class="mb-3">
                                        <label for="{{ form.min_quantity.id_for_label }}" class="form-label">כמות מינימלית:</label>
                                        {{ form.min_quantity }}
                                    </div>
                                    <div class="mb-3">
                                        <label for="{{ form.max_quantity.id_for_label }}" class="form-label">כמות מקסימלית:</label>
                                        {{ form.max_quantity }}
                                    </div>
                                    <div class="mb-3">
                                        <label for="{{ form.unit.id_for_label }}" class="form-label">יחידה:</label>
                                        {{ form.unit }}
                                    </div>
                                    <div class="mb-3">
                                        <label for="{{ form.cost_price.id_for_label }}" class="form-label">מחיר עלות:</label>
                                        {{ form.cost_price }}
                                    </div>
                                    <div class="mb-3">
                                        <label for="{{ form.selling_price.id_for_label }}" class="form-label">מחיר מכירה:</label>
                                        {{ form.selling_price }}
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="{{ form.barcode.id_for_label }}" class="form-label">ברקוד:</label>
                                        {{ form.barcode }}
                                    </div>
                                    <div class="mb-3">
                                        <label for="{{ form.status.id_for_label }}" class="form-label">סטטוס:</label>
                                        {{ form.status }}
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="{{ form.weight.id_for_label }}" class="form-label">משקל (ק"ג):</label>
                                        {{ form.weight }}
                                    </div>
                                    <div class="mb-3">
                                        <label for="{{ form.dimensions.id_for_label }}" class="form-label">מידות (LxWxH):</label>
                                        {{ form.dimensions }}
                                    </div>
                                </div>
                            </div>

                            <div class="mb-3">
                                <label for="{{ form.notes.id_for_label }}" class="form-label">הערות:</label>
                                {{ form.notes }}
                            </div>

                            <div class="mb-3">
                                <label for="{{ form.barcode_image.id_for_label }}" class="form-label">תמונת ברקוד:</label>
                                {{ form.barcode_image }}
                            </div>

                            <div class="mb-3">
                                <label for="{{ form.product_image.id_for_label }}" class="form-label">תמונת מוצר:</label>
                                {{ form.product_image }}
                            </div>

                            <div class="d-flex gap-2">
                                <button type="submit" class="btn btn-primary">
                                    <i class="fas fa-save me-1"></i>שמור שינויים
                                </button>
                                <a href="{% url 'product_detail' product.pk %}" class="btn btn-secondary">
                                    <i class="fas fa-times me-1"></i>ביטול
                                </a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
{% endblock %}
